=============
Configuration
=============

KairosDB is configured using the kairosdb.properties files in the conf directory.

Here is a list of the properties and their purpose.

.. rst-class:: scrollwide
+-------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| *Property*                                                  | *Description*                                                                                                                                                                                                                                                                            | *Required*                                                                                  | *Default Value*                                                                                                                                                       |
+=============================================================+==========================================================================================================================================================================================================================================================================================+=============================================================================================+=======================================================================================================================================================================+
| kairosdb.hostname                                           | Name of the host which is used when reporting internal metrics.                                                                                                                                                                                                                          | Optional                                                                                    | The "hostname" command is used if this is not set                                                                                                                     |
+-------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| kairosdb.telnetserver.address                               | IPv4 or IPv6 address (see Java's InetAddress class for more details)                                                                                                                                                                                                                     | Required                                                                                    | 0.0.0.0                                                                                                                                                               |
+-------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| kairosdb.telnetserver.port                                  | Port number for the Telnet server.                                                                                                                                                                                                                                                       | Required                                                                                    | 4242                                                                                                                                                                  |
+-------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| kairosdb.telnetserver.commands                              | List of Telnet commands supported by KairosDB.                                                                                                                                                                                                                                           | Required                                                                                    | put, version                                                                                                                                                          |
+-------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| kairosdb.service.telnet                                     | Full package and class name for the class that handles the Telnet requests.                                                                                                                                                                                                              | Required                                                                                    | `org.kairosdb.core.telnet.TelnetServerModule`                                                                                                                         |
+-------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| kairosdb.service.http                                       | Full package and class name for the class that handles HTTP requests.                                                                                                                                                                                                                    | Required                                                                                    | `org.kairosdb.core.http.WebServletModule`                                                                                                                             |
+-------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| kairosdb.service.reporter                                   | Full package and class name for the class that handles internal metric reporting. If not specified, internal metrics are not reported.                                                                                                                                                   | Optional                                                                                    | `org.kairosdb.core.reporting.MetricReportingModule`                                                                                                                   |
+-------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| kairosdb.reporter.period                                    | Period for internal metric reporting.  Use in conjunction with kairosdb.reporter.period_unit.                                                                                                                                                                                            | Required if kairosdb.service.reporter is specified.                                         | 1                                                                                                                                                                     |
+-------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| kairosdb.reporter.period_unit                               | Used in conjunction with kairosdb.reporter.period. Unit can be milliseconds, seconds, minutes, days                                                                                                                                                                                      | Required if kairosdb.service.reporter is specified.                                         | minutes                                                                                                                                                               |
+-------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| kairosdb.jetty.address                                      | IPv4 or IPv6 address (see Java's InetAddress class for more details).                                                                                                                                                                                                                    | Required                                                                                    | 0.0.0.0                                                                                                                                                               |
+-------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| kairosdb.jetty.port                                         | Port number for accessing the KairosDB UI. Set to 0 to disable the HTTP port.                                                                                                                                                                                                            | Optional. Must set either this property or kairosdb.jetty.ssl.port.                         | 8080                                                                                                                                                                  |
+-------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| kairosdb.jetty.static_web_root                              | Location where pages are served by the Jetty server.                                                                                                                                                                                                                                     | Required                                                                                    | webroot                                                                                                                                                               |
+-------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| kairosdb.jetty.basic_auth.user                              | Use this with kairosdb.jetty.basic_auth.password setup the username and password for Basic authentication.                                                                                                                                                                               | Optional                                                                                    |                                                                                                                                                                       |
+-------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| kairosdb.jetty.basic_auth.password                          | Used with kairosdb.jetty.basic_auth.user to turn on Basic authentication. This the password for the user.                                                                                                                                                                                | Optional                                                                                    |                                                                                                                                                                       |
+-------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| kairosdb.jetty.ssl.port                                     | Port for use with SSL.                                                                                                                                                                                                                                                                   | Optional                                                                                    | 443                                                                                                                                                                   |
+-------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| kairosdb.jetty.ssl.keystore.path                            | Full path to the key store that contains the server certificate for SSL communication. This implementation of SSL assumes there is only one certificate in the key store.                                                                                                                | Optional                                                                                    |                                                                                                                                                                       |
+-------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| kairosdb.jetty.ssl.keystore.password                        | Key store password.                                                                                                                                                                                                                                                                      | Required if kairosdb.jetty.ssl.keystore.path is set.                                        | See the `Jetty <http://wiki.eclipse.org/Jetty/Howto/Configure_SSL#Loading_Keys_and_Certificates_via_PKCS12>`_ documentation for information on creating the keystore. |
+-------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| kairosdb.service.datastore                                  | Full package and class name for the class that handles data store requests.                                                                                                                                                                                                              | `org.kairosdb.datastore.h2.H2Module` or `org.kairosdb.datastore.cassandra.CassandraModule`  | `org.kairosdb.datastore.h2.H2Module` or `net.opentsdb.kairosdb.HBaseModule`                                                                                           |
+-------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| kairosdb.datastore.h2.database_path                         | Path to the H2 database location.                                                                                                                                                                                                                                                        | Required if H2 is the selected datastore.                                                   | build/h2db                                                                                                                                                            |
+-------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| kairosdb.datastore.cassandra.host_list                      | List of Cassandra nodes. In the form of 1.1.1.1:9160,1.1.1.2:9160                                                                                                                                                                                                                        | Required if Cassandra is the selected datastore.                                            | localhost:9160                                                                                                                                                        |
+-------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| kairosdb.datastore.cassandra.replication_factor             | Cassandra replication factor.                                                                                                                                                                                                                                                            | Required if Cassandra is the selected datastore.                                            | 1                                                                                                                                                                     |
+-------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| kairosdb.datastore.cassandra.write_delay                    | Delay before cached metrics are written to Cassandra.                                                                                                                                                                                                                                    | Required if Cassandra is the selected datastore.                                            | 1000                                                                                                                                                                  |
+-------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| kairosdb.datastore.cassandra.write_buffer_max_size          | Maximum size of the write cache. Data is written when the cache is full.                                                                                                                                                                                                                 | Required if Cassandra is the selected datastore.                                            | 500000                                                                                                                                                                |
+-------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| kairosdb.datastore.cassandra.single_row_read_size           | Buffer size when reading a single row of data from Cassandra.                                                                                                                                                                                                                            | Required if Cassandra is the selected datastore.                                            | 10240                                                                                                                                                                 |
+-------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| kairosdb.datastore.cassandra.multi_row_read_size            | Buffer size when reading multiple rows of data from Cassandra.                                                                                                                                                                                                                           | Required if Cassandra is the selected datastore.                                            | 1024                                                                                                                                                                  |
+-------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| kairosdb.datastore.cassandra.auth.`[prop name]`             | Used to pass authentication information to cassandra. eg `kairosdb.datastore.cassandra.auth.user=admin`                                                                                                                                                                                  | Optional                                                                                    |                                                                                                                                                                       |
+-------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| kairosdb.datastore.cassandra.increase_buffer_size_schedule  | If the Cassandra becomes overwhelmed, KairosDB will reduce the write buffer size. This property identifies how often KairosDB will attempt to increase the buffer size incrementally until it is back up to kairosdb.datastore.cassandra.write_buffer_max_size. Uses Quartz Cron syntax. | Required if Cassandra is the selected datastore.                                            | 0 \*/5 \* \* \* ?                                                                                                                                                     |
+-------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| kairosdb.datastore.hbase.timeseries_table                   | Name of the HBase table metrics are stored in.                                                                                                                                                                                                                                           | Required if HBase is the selected datastore.                                                | tsdb                                                                                                                                                                  |
+-------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| kairosdb.datastore.hbase.uinqueids_table                    | Name of the id table for HBase.                                                                                                                                                                                                                                                          | Required if HBase is the selected datastore.                                                | tsdb-uid                                                                                                                                                              |
+-------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| kairosdb.datastore.hbase.zoo_keeper_quorum                  | Zookeeper quorum host.                                                                                                                                                                                                                                                                   | Required if HBase is the selected datastore.                                                | localhost                                                                                                                                                             |
+-------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| kairosdb.datastore.hbase.zoo_keeper_base_dir                | Zookeeper base directory.                                                                                                                                                                                                                                                                | Required if using HBase with Zookeeper.                                                     |                                                                                                                                                                       |
+-------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| kairosdb.datastore.hbase.auto_create_metrics                | If true, new metric names are created if they don't exist. If false, metrics with new metric names are rejected.                                                                                                                                                                         | Required if HBase is the selected datastore.                                                | true                                                                                                                                                                  |
+-------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| kairosdb.service.oauth                                      | Full package and class name of the class that handles OAuth communications.                                                                                                                                                                                                              | Optional                                                                                    | `org.kairosdb.core.oauth.OAuthModule`                                                                                                                                 |
+-------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| kairosdb.oauth.consumer.`[consumer key]`                    | OAuth key.                                                                                                                                                                                                                                                                               | Required if using OAuth.                                                                    |                                                                                                                                                                       |
+-------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| kairosdb.job.cache_file_cleaner_schedule                    | Cache file cleaning schedule. Uses Quartz Cron syntax.                                                                                                                                                                                                                                   |                                                                                             | `0 0 12 ? * SUN *`                                                                                                                                                    |
+-------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
